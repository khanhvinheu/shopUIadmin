"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[148],{525:(t,e,i)=>{i.d(e,{Z:()=>u});var n=i(538),a=i(9669),o=i.n(a),s=i(2346),r=i(9755),l=i.n(r),c={init:function(){n.default.use(s.Z,o()),n.default.axios.defaults.baseURL="http://127.0.0.1:9999/"},setHeader:function(){var t=AuthService.getToken();t&&(n.default.axios.defaults.headers.common.Authorization="Bearer ".concat(t)),l().ajaxSetup({headers:{"X-CSRF-TOKEN":l()('meta[name="csrf-token"]').attr("content"),Authorization:"Bearer ".concat(t)}})},query:function(t,e){return n.default.axios.get(t,e).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.default.axios.get("".concat(t,"/").concat(e)).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))},post:function(t,e){return n.default.axios.post("".concat(t),e).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))},update:function(t,e,i){return n.default.axios.put("".concat(t,"/").concat(e),i).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))},put:function(t,e){return n.default.axios.put("".concat(t),e).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))},delete:function(t){return n.default.axios.delete(t).catch((function(t){throw t&&t.response&&401===t.response.status&&c.sessionExpire(),new Error("[RWV] ApiService ".concat(t))}))}};const u=c},4476:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(3645),a=i.n(n)()((function(t){return t[1]}));a.push([t.id,".custorm-upload .el-upload--picture-card{height:unset;line-height:20px;padding:50px;width:unset}",""]);const o=a},7148:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var n=i(525);const a={name:"create",data:function(){return{limitImg:6,fileList:[],rules:{title:[{required:!0,message:"Vui lòng không bỏ trống",trigger:"blur"}],level:[{required:!0,message:"Vui lòng không bỏ trống",trigger:"change"}]},formData:{title:"",hidden:"1",images:""}}},watch:{fileList:function(t){console.log(t)}},methods:{handleUploadChange:function(t){console.log(this.fileList.findIndex((function(e){return e.uid==t.uid}))),-1==this.fileList.findIndex((function(e){return e.uid==t.uid}))&&this.fileList.push(t)},messLimit:function(){this.$notify({title:"Error",message:"Không upload số lượng ảnh vượt quá mức cho phép",type:"error"})},removeImg:function(t){this.fileList=this.fileList.filter((function(e){return e.uid!=t.uid})),console.log(t.uid),n.Z.post("/api/admin/removeFile",{path:t.response})}}};var o=i(3379),s=i.n(o),r=i(4476),l={insert:"head",singleton:!1};s()(r.Z,l);r.Z.locals;const c=(0,i(1900).Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"calc(100vh - 140px)","overflow-x":"hidden"}},[i("el-form",{ref:"formData",staticClass:"demo-ruleForm",attrs:{"label-position":"right",model:t.formData,rules:t.rules,"label-width":"180px"}},[i("div",{staticClass:"elevation-1",staticStyle:{padding:"14px","background-color":"#ffffff"}},[i("span",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("Thông tin cơ bản")]),t._v(" "),i("el-divider"),t._v(" "),i("el-form-item",{attrs:{label:"Hình ảnh sản phẩm",prop:"title"}},[i("div",{staticClass:"form-group"},[i("el-upload",{ref:"upload",staticClass:"custorm-upload",attrs:{"auto-upload":!1,accept:"image/png, image/jpeg",action:"/api/admin/upload","list-type":"picture-card","on-change":t.handleUploadChange,"on-remove":t.removeImg,multiple:"",limit:t.limitImg,"on-exceed":t.messLimit,"file-list":t.fileList},scopedSlots:t._u([{key:"file",fn:function(e){var n=e.file;return i("div",{},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),t._v(" "),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.removeImg(n)}}},[i("i",{staticClass:"el-icon-delete"})])]),t._v(" "),t.fileList.length&&t.fileList[0].uid==n.uid?i("div",{staticStyle:{"background-color":"rgba(139,145,147,0.66)",color:"#fff",position:"absolute",bottom:"0",width:"100%","text-align":"center"}},[t._v("Ảnh bìa")]):t._e()])}}])},[t._v(" "),i("div",{staticStyle:{"text-align":"center","line-height":"20px",display:"flex","align-items":"center","flex-direction":"column"}},[i("i",{staticClass:"el-icon-picture-outline",attrs:{color:"red"}}),t._v(" "),i("span",{staticStyle:{"font-size":"10px"}},[t._v("Thêm hình ảnh "+t._s(t.fileList.length)+"/"+t._s(t.limitImg))])])])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"Tên sản phẩm",prop:"icon"}},[i("div",{staticClass:"form-group"},[i("el-input",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"Danh mục sản phẩm",prop:"icon"}},[i("div",{staticClass:"form-group"},[i("el-input",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"Thương hiệu",prop:"icon"}},[i("div",{staticClass:"form-group"},[i("el-input",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"Mô tả sản phẩm",prop:"icon"}},[i("div",{staticClass:"form-group"},[i("el-input",{attrs:{"show-word-limit":"",maxlength:"20",type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1)])],1),t._v(" "),i("div",{staticClass:"elevation-1",staticStyle:{"margin-top":"5px",padding:"14px","background-color":"#ffffff"}},[i("span",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("Thông tin chi tiết")]),t._v(" "),i("el-divider"),t._v(" "),i("el-form-item",{attrs:{label:"Phân loại bán hàng",prop:"icon"}},[i("div",{staticClass:"form-group"},[i("el-input",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1)])],1)])],1)}),[],!1,null,null,null).exports}}]);