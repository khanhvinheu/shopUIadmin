"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[324],{4547:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(3645),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,".el-table .warning-row{background:oldlace}.el-table .success-row{background:#f0f9eb}.color-item{border:1px solid rgb(0,0,0,.5);border-radius:10px;height:27px;width:50px}span.title-detail-order{font-weight:700}",""]);const i=n},5560:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});const s={name:"product_list",data:function(){return{loadingTable:!1,tableData:[],slideData:[],textSearch:"",currentPage:1,options:{Total:10,Page:1,PageLimit:10}}},mounted:function(){this.getList()},methods:{handleSizeChange:function(t){this.options.PageLimit=t,this.getList()},handleCurrentChange:function(t){this.options.Page=t,this.getList()},updateStatus:function(t,e){},deleteBanner:function(t){var e=this;axios({method:"post",url:"/api/admin/products/delete/"+t}).then((function(t){t.data.success?(e.$notify({title:"Success",message:t.data.mess,type:"success"}),e.getList()):e.$notify({title:"Error",message:t.data.mess,type:"error"})}))},getList:function(){var t=this;t.loadingTable=!0;var e={};this.options.Page&&(e.page=this.options.Page),this.options.PageLimit&&(e.limit=this.options.PageLimit),this.textSearch&&(e.search=this.textSearch),axios({method:"get",url:"/api/admin/orders",params:e}).then((function(e){var a=e.data;a.success&&(t.tableData=a.data,t.options.Total=a.count),t.loadingTable=!1}))},changeStatus:function(t){alert(t)},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""}}};var n=a(3379),i=a.n(n),r=a(4547),o={insert:"head",singleton:!1};i()(r.Z,o);r.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product_list"},[a("div",{staticClass:"card card-default"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row",staticStyle:{display:"flex","flex-wrap":"nowrap",padding:"8px","justify-content":"space-between"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"Nhập mã đơn hàng ..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList()}},scopedSlots:t._u([{key:"append",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" Tìm\n                                    kiếm\n                                ")])]},proxy:!0}]),model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}}),t._v(" "),a("el-button",{staticClass:"ml-2",attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"ProductCreate"})}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" Thêm mới\n                        ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{"empty-text":"Chưa có dữ liệu !",data:t.tableData,border:"",resizable:!0,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"elevation-1",staticStyle:{margin:"10px","margin-left":"50px",padding:"10px"}},[a("div",[a("span",{staticClass:"title-detail-order"},[a("i",{staticClass:"el-icon-finished"}),t._v("\n                                            MÃ ĐƠN HÀNG:")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v(t._s(e.row.order_code))])]),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order",staticStyle:{"margin-left":"15px"}},[t._v("Được tạo lúc:")]),t._v(" "),a("span",[t._v(t._s(t._f("formatDate")(e.row.created_at)))])]),t._v(" "),a("div",{staticStyle:{"padding-left":"15px"}},[a("el-divider"),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order"},[t._v("Tên khách hàng:")]),t._v(" "),a("span",[t._v(t._s(e.row.member.name))])]),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order"},[t._v("Số điện thoại:")]),t._v(" "),a("span",[t._v(t._s(e.row.member.phone_number))])]),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order"},[t._v("Email:")]),t._v(" "),a("span",[t._v(t._s(e.row.member.email))])]),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order"},[t._v("Địa chỉ:")]),t._v(" "),a("span",[t._v("\n                                           "+t._s(e.row.member.location_text+"-"+e.row.member.commune+"-"+e.row.member.district+"-"+e.row.member.province)+"\n                                        ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.note,expression:"props.row.note"}]},[a("span",{staticClass:"title-detail-order"},[t._v("Ghi chú:")]),t._v(" "),a("span",[t._v("\n                                           "+t._s(e.row.note?e.row.note:"______")+"\n                                            ")])])],1),t._v(" "),a("div",{staticStyle:{"padding-left":"15px"}},[a("el-divider")],1),t._v(" "),a("div",[a("span",{staticClass:"title-detail-order"},[a("i",{staticClass:"el-icon-finished"}),t._v("\n                                            DANH SÁCH CÁC SẢN PHẨM ĐƯỢC MUA:")])]),t._v(" "),a("div",{staticStyle:{padding:"15px"}},[a("table",{staticClass:"table table-bordered"},[a("tr",{staticStyle:{"background-color":"rgb(0,0,0,0.02)"}},[a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" TÊN SẢN PHẨM")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" HÌNH ẢNH")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" SIZE")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" MÀU")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" ĐƠN GIÁ")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" SỐ LƯỢNG")]),t._v(" "),a("th",[a("i",{staticClass:"el-icon-connection"}),t._v(" THÀNH TIỀN")])]),t._v(" "),t._l(e.row.detail,(function(e){return a("tr",[a("td",[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"ml-2"},[t._v(t._s(e.product_name))])])]),t._v(" "),a("td",[a("el-image",{staticStyle:{height:"60px",width:"60px"},attrs:{lazy:"",src:e.image?e.image.path:"https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png",fit:"contain"}})],1),t._v(" "),a("td",[t._v(t._s(e.product_size))]),t._v(" "),a("td",[t._v(t._s(e.product_color))]),t._v(" "),a("td",[t._v(t._s(t._f("toThousandFilter")(e.price))+" đ")]),t._v(" "),a("td",[t._v("x"+t._s(e.quantity))]),t._v(" "),a("td",[t._v(t._s(t._f("toThousandFilter")(e.price_total))+" đ")])])})),t._v(" "),a("tr",[a("td",{attrs:{colspan:"6"}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("Thành tiền")])]),t._v(" "),a("td",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t._f("toThousandFilter")(e.row.detail.map((function(t){return t.price*t.quantity})).reduce((function(t,e){return t+e}),0)))+" đ")])])])],2)])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_code",label:"MÃ ĐƠN HÀNG",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"member.name",label:"TÊN KHÁCH HÀNG",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"member.phone_number",label:"SĐT",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"member.location_text",label:"LOẠI THANH TOÁN",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"dark",type:1==e.row.payment_methods?"success":""}},[t._v(" "+t._s(0==e.row.payment_methods?"COD":"Chuyển khoản trước"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"member.location_text",label:"TRẠNG THÁI THANH TOÁN",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"dark",type:1==e.row.payment_methods?"success":""}},[t._v(" "+t._s(0==e.row.payment_methods?"COD":"Chuyển khoản trước"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"member.location_text",label:"TRẠNG THÁI ĐƠN HÀNG",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"dark",type:1==e.row.payment_methods?"success":""}},[t._v(" "+t._s(0==e.row.payment_methods?"COD":"Chuyển khoản trước"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"THAO TÁC",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popconfirm",{attrs:{"confirm-button-text":"Xóa","cancel-button-text":"Không",title:"Bạn có chắc chắn muốn xóa hình ảnh này ?"},on:{confirm:function(){return t.deleteBanner(e.row.id)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])}),t._v(" "),a("template",{slot:"empty"},[a("el-empty",{attrs:{description:"No data"}})],1)],2)],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-left":"0px","margin-right":"8px",padding:"10px",width:"100%"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.options.PageLimit,layout:"total, sizes, prev, pager, next, jumper",total:t.options.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])]),t._v(" "),a("div",{staticClass:"card-footer"})])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"background-color":"rgb(0,0,0,0.1)"}},[a("h3",{staticClass:"card-title"},[t._v("DANH SÁCH ĐƠN HÀNG")]),t._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])}],!1,null,null,null).exports}}]);